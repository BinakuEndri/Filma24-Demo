
{% extends 'hod_template/base_template.html' %}
{% block page_title %}
Ballina
{% endblock page_title %}
{% block main_content %}
    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
          
        <div class="row">
          <div class="col-lg-12">
             <div class="card card-info">
              <div class="card-header">
                <h3 class="card-title">Numri Filmave Nga Platforat e Ndryshme </h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
              <div class="card-body">
                <canvas id="barChart3" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
      </div>

      <div class="row">
      {% for movie in movies %}

      <div class="col-12 col-sm-6 col-md-4 d-flex align-items-stretch" >
        <div class="card bg-light" style="width: 600px;">
          <div class="card-header text-muted border-bottom-0">
           <!-- <h6 class="btn btn-primary">{{movie.id}}</h6> -->
          </div>
          <div class="card-body pt-0">
            <div class="row">
              <div class="col-7 sm-4 ">
                <h2 class="lead"><b>{{ movie.movie_name }}</b></h2>
                <p class="text-muted text-sm"><b>About: </b>{{ movie.describe|slice:":255" }}...</p>
                <ul class="ml-4 mb-0 fa-ul text-muted">
                  <li class="small"><span class="fa-li"><i class="fas fa-lg fa-building"></i></span>Platforma: {{ movie.network_id.network_name }}</li>
                  <li class="small"><span class="fa-li"><i class="fas fa-lg fa-film"></i></span> Zhandrri: {{ movie.genre_id.genre_name }}</li>
                  <li class="small"><span class="fa-li"><i class="fab fa-lg fa-imdb"></i></span> IMDB: {{ movie.imdb }}</li>
                </ul>
              </div>
              <div class="col-5 text-center">
                <img src="{{ movie.profile_pic }}" alt="" class="img img-fluid" style=" width: 100%; height: 300px; object-fit: cover;">
              </div>
            </div>
          </div>
          <div class="card-footer">
            <div class="row">
            <div class="col-6 text-left">
              <p><b>{{ movie.data }}</b></p>
            </div>
            <div class="col-6 text-right">
              <a href="/delete_movie/{{ movie.id }}" class="btn btn-sm bg-danger">
                <i class="fas fa-times"></i> Delete
              </a>
              <a href="/edit_movie/{{ movie.id }}" class="btn btn-sm bg-teal">
                <i class="fas fa-edit"></i> Edito
              </a>
              <a href="/view_movie/{{ movie.id }}" class="btn btn-sm bg-primary">
                <i class="fas fa-eye"></i> View
              </a>
            </div>
          </div>
        </div>
        </div>
      </div>
      {% endfor %}

      </div>
      </div>
    </section>
    
{% endblock main_content %}
{% block custom_js %}
<script>
    $(document).ready(function(){
      var genre_name_list={{ genre_name_list|safe }};
      var network_name_list={{ network_name_list|safe }};
      var movie_network_list={{ movie_network_list }};
      var movie_genre_list={{ movie_genre_list }};




      var barChartData3 = {
                          labels  : network_name_list,
                          datasets: [
                            {
                              label               : 'Filma',
                              backgroundColor     : 'rgba(60,141,188,0.9)',
                              borderColor         : 'rgba(60,141,188,0.8)',
                              pointRadius          : false,
                              pointColor          : '#3b8bba',
                              pointStrokeColor    : 'rgba(60,141,188,1)',
                              pointHighlightFill  : '#fff',
                              pointHighlightStroke: 'rgba(60,141,188,1)',
                              data                : movie_network_list
                            },
            
                          ]
                        }
                        var barChartCanvas3 = $('#barChart3').get(0).getContext('2d')
                        var temp0 = barChartData3.datasets[0]
                       

                        var barChartOptions3 = {
                          responsive              : true,
                          maintainAspectRatio     : false,
                          datasetFill             : false
                        }
                        var barChart3 = new Chart(barChartCanvas3, {
                          type: 'bar',
                          data: barChartData3,
                          options: barChartOptions3
                        })

      var barChart4 = new Chart(barChartCanvas4, {
                          type: 'bar',
                          data: barChartData4,
                          options: barChartOptions4
                        })
                        var barChartData4 = {
                          labels  : genre_name_list,
                          datasets: [
                            {
                              label               : 'Student',
                              backgroundColor     : 'rgba(60,141,188,0.9)',
                              borderColor         : 'rgba(60,141,188,0.8)',
                              pointRadius          : false,
                              pointColor          : '#3b8bba',
                              pointStrokeColor    : 'rgba(60,141,188,1)',
                              pointHighlightFill  : '#fff',
                              pointHighlightStroke: 'rgba(60,141,188,1)',
                              data                : movie_genre_list
                            },
            
                          ]
                        }
                        var barChartCanvas4 = $('#barChart5').get(0).getContext('2d')
                        var temp0 = barChartData4.datasets[0]
                       

                        var barChartOptions4 = {
                          responsive              : true,
                          maintainAspectRatio     : false,
                          datasetFill             : false
                        }

                        var barChart4 = new Chart(barChartCanvas4, {
                          type: 'bar',
                          data: barChartData4,
                          options: barChartOptions4
                        })


    });
</script>
{% endblock custom_js %}

